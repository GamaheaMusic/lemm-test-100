# Core dependencies
flask>=3.0.0
flask-cors>=4.0.0
gradio>=4.0.0
numpy>=1.24.0
scipy>=1.10.0
librosa>=0.10.0
soundfile>=0.12.0
pydantic>=2.0.0
python-dotenv>=1.0.0
pyyaml>=6.0
requests>=2.31.0

# PyTorch - CPU mode for compatibility
# Note: DiffRhythm2 requires torch>=2.4 which is incompatible with torch-directml
# Using CPU mode to avoid version conflicts. For GPU acceleration, use NVIDIA CUDA.
torch>=2.4.0
torchaudio>=2.4.0

# DiffRhythm 2 core dependencies
torchdiffeq>=0.2.4  # Required for CFM (flow matching)
phonemizer>=3.2.0
muq>=0.1.0  # MuQ-MuLan style encoder for music generation
jieba>=0.42.0  # Chinese text segmentation
pypinyin>=0.50.0  # Chinese to pinyin conversion
cn2an>=0.5.0  # Chinese number to text
onnxruntime>=1.15.0  # For g2p Chinese model
pykakasi>=2.3.0  # Japanese text processing
pyopenjtalk; python_version < "3.12"  # Japanese phonetics (Python 3.11 compatible)
unidecode>=1.3.0  # Text normalization
py3langid>=0.2.2  # Language detection

# AI Model dependencies
transformers==4.47.1  # Pinned for DiffRhythm2 compatibility
diffusers>=0.21.0
sentencepiece>=0.1.99
protobuf>=3.20.0
accelerate>=0.20.0
einops>=0.7.0
omegaconf>=2.3.0

# Audio processing
pedalboard>=0.7.0
pydub>=0.25.1
resampy>=0.4.2

# Audio quality enhancement
demucs==4.0.1  # Stem separation
noisereduce>=3.0.0  # Noise reduction
audiosr>=0.0.7  # Audio super resolution (upscaling to 48kHz)

# LoRA Training dependencies
peft>=0.6.0  # Parameter-Efficient Fine-Tuning (LoRA adapters)
datasets>=2.14.0  # HuggingFace datasets for training data management
torchcodec>=0.1.0  # Audio decoding for datasets library
av>=10.0.0  # PyAV for audio/video decoding
tensorboard>=2.13.0  # Training monitoring and visualization
wandb>=0.15.0  # Optional: Advanced experiment tracking

# Utilities
tqdm>=4.65.0
huggingface-hub>=0.17.0
safetensors>=0.3.0
gitpython>=3.1.0
